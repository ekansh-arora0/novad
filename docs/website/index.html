<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Novad - FTC Defense Library</title>
<style>
:root{--crimson:#8B0000;--gold:#FFD700;--bg:#0d0d0d;--card:#1a1a1a;--txt:#f5f5f5;--muted:#999}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:var(--bg);color:var(--txt);line-height:1.7}
a{color:var(--gold)}
nav{background:linear-gradient(135deg,#5C0000,var(--crimson));padding:1rem 2rem;position:sticky;top:0;z-index:1000;border-bottom:3px solid var(--gold)}
.nav-container{max-width:1200px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}
.logo{font-size:1.8rem;font-weight:bold;color:var(--gold);text-decoration:none}
.nav-links{display:flex;gap:2rem;align-items:center}
.nav-links a{color:var(--txt);text-decoration:none}
.nav-links a:hover{color:var(--gold)}
.github-btn{background:var(--gold);color:#000;padding:0.5rem 1rem;border-radius:6px;font-weight:bold;text-decoration:none}
.hero{background:linear-gradient(rgba(92,0,0,0.9),rgba(13,13,13,0.95));padding:5rem 2rem;text-align:center;border-bottom:3px solid var(--gold)}
.hero h1{font-size:3.5rem;margin-bottom:0.5rem;color:var(--gold)}
.hero .subtitle{font-size:1.3rem;color:var(--muted);margin-bottom:1.5rem}
.hero .tagline{font-size:1.1rem;max-width:600px;margin:0 auto 2rem;color:var(--txt)}
.btn{display:inline-block;background:linear-gradient(135deg,var(--gold),#B8860B);color:#000;padding:0.8rem 2rem;border-radius:50px;text-decoration:none;font-weight:bold;margin:0.5rem}
section{max-width:900px;margin:0 auto;padding:3rem 2rem}
h2{font-size:2rem;margin-bottom:1rem;color:var(--gold);border-bottom:2px solid var(--crimson);padding-bottom:0.5rem}
h3{font-size:1.3rem;margin:1.5rem 0 0.5rem;color:var(--txt)}
h4{color:var(--gold);margin:1rem 0 0.5rem}
p{margin-bottom:1rem;color:var(--muted)}
ul,ol{margin:1rem 0 1rem 2rem;color:var(--muted)}
li{margin:0.5rem 0}
pre{background:var(--card);border:1px solid #333;border-radius:8px;padding:1rem;overflow-x:auto;margin:1rem 0;font-size:0.9rem}
code{font-family:'Consolas','Monaco',monospace;color:var(--txt)}
.ic{background:var(--card);padding:0.15rem 0.4rem;border-radius:4px;color:var(--gold);font-family:'Consolas',monospace}
.box{background:var(--card);border-left:4px solid var(--crimson);padding:1rem 1.5rem;margin:1rem 0;border-radius:0 8px 8px 0}
.box.warn{border-color:var(--gold);background:rgba(255,215,0,0.1)}
.box h4{margin-top:0}
table{width:100%;border-collapse:collapse;margin:1rem 0}
th,td{padding:0.6rem;text-align:left;border-bottom:1px solid #333}
th{background:var(--crimson);color:var(--gold)}
.method{background:var(--card);border:1px solid #333;border-radius:8px;padding:1rem;margin:1rem 0}
.method-sig{font-family:'Consolas',monospace;color:var(--gold);font-size:1rem;margin-bottom:0.5rem}
.method-desc{color:var(--muted);font-size:0.95rem}
.divider{text-align:center;padding:1.5rem 0;color:#333;font-size:1.5rem}
footer{background:var(--crimson);padding:2rem;text-align:center;color:var(--muted);border-top:3px solid var(--gold)}
.kw{color:#569cd6}.str{color:#ce9178}.num{color:#b5cea8}.cmt{color:#6a9955}
@media(max-width:768px){.hero h1{font-size:2.5rem}.nav-links{gap:1rem}}
</style>
</head>
<body>

<nav>
<div class="nav-container">
<a href="#" class="logo">NOVAD</a>
<div class="nav-links">
<a href="#quickstart">Quick Start</a>
<a href="#api">API</a>
<a href="#tuning">Tuning</a>
<a href="https://github.com/ekansh-arora0/novad" class="github-btn">GitHub</a>
</div>
</div>
</nav>

<section class="hero">
<h1>NOVAD</h1>
<p class="subtitle">FTC Defense Library</p>
<p class="tagline">Stop getting pushed around. Two methods. That's it.</p>
<a href="#quickstart" class="btn">Get Started</a>
<a href="https://github.com/ekansh-arora0/novad" class="btn">View on GitHub</a>
</section>

<section id="quickstart">
<h2>Quick Start</h2>

<h3>1. Copy Files to Your Project</h3>
<p>Copy <span class="ic">NovadSetup.java</span> and the <span class="ic">novad/</span> folder into your TeamCode:</p>
<pre><code>TeamCode/src/main/java/org/firstinspires/ftc/teamcode/
├── NovadSetup.java     <span class="cmt">// Your config - edit this!</span>
├── YourTeleOp.java     <span class="cmt">// Your existing TeleOp</span>
└── novad/              <span class="cmt">// The library (don't edit)</span>
    ├── Novad.java
    ├── Pose2d.java
    └── ...</code></pre>

<h3>2. Configure NovadSetup.java</h3>
<p>Set your motor names and choose your odometry:</p>
<pre><code><span class="cmt">// Motor names - must match your robot config exactly</span>
<span class="kw">public static</span> String FRONT_LEFT  = <span class="str">"frontLeft"</span>;
<span class="kw">public static</span> String FRONT_RIGHT = <span class="str">"frontRight"</span>;
...

<span class="cmt">// Choose ONE odometry system</span>
<span class="kw">public static boolean</span> USE_PINPOINT = <span class="kw">true</span>;   <span class="cmt">// GoBilda Pinpoint</span>
<span class="kw">public static boolean</span> USE_THREE_WHEEL = <span class="kw">false</span>; <span class="cmt">// Dead wheels</span></code></pre>

<h3>3. Use in Your TeleOp</h3>
<pre><code><span class="cmt">// In init()</span>
Novad novad = Novad.create(hardwareMap);

<span class="cmt">// In loop() - this replaces your drivetrain.drive() call</span>
novad.defense(
    gamepad1.left_stick_x,     <span class="cmt">// strafe</span>
    -gamepad1.left_stick_y,    <span class="cmt">// forward (negate!)</span>
    gamepad1.right_stick_x     <span class="cmt">// rotate</span>
);

<span class="cmt">// Optional: bind lockdown to a button</span>
<span class="kw">if</span> (gamepad1.a) novad.lockdown();
<span class="kw">if</span> (gamepad1.b) novad.unlock();</code></pre>

<div class="box">
<h4>That's it!</h4>
<p>Deploy and test. Your robot now resists being pushed while you drive normally.</p>
</div>
</section>

<div class="divider">• • •</div>

<section id="api">
<h2>API Reference</h2>

<h3>Core Methods</h3>

<div class="method">
<div class="method-sig">novad.defense(double strafe, double forward, double rotate)</div>
<div class="method-desc">
<p><strong>The main method - call this every loop iteration.</strong></p>
<p>This drives your robot while actively resisting external pushes. It works by comparing what the driver commanded vs what actually happened (via odometry). If the robot moved differently than commanded, that's an external force - Novad adds counter-force.</p>
<p><strong>Parameters:</strong></p>
<ul>
<li><code>strafe</code> - Left stick X. Range -1 to 1. Positive = right.</li>
<li><code>forward</code> - Left stick Y. Range -1 to 1. Positive = forward. <strong>Remember to negate gamepad Y!</strong></li>
<li><code>rotate</code> - Right stick X. Range -1 to 1. Positive = turn right.</li>
</ul>
<p><strong>What it resists:</strong></p>
<ul>
<li>Being pushed sideways ✓</li>
<li>Being pushed forward/backward ✓</li>
<li>Being spun/rotated ✓ (heading is protected too!)</li>
</ul>
</div>
</div>

<div class="method">
<div class="method-sig">novad.lockdown()</div>
<div class="method-desc">
<p><strong>Makes the robot completely immovable.</strong></p>
<p>Call this when you want to plant and block. The robot will hold its exact position (X, Y, AND heading) with maximum force. Driver input is ignored while locked.</p>
<p><strong>Use case:</strong> You're in a good defensive position and want to become an immovable wall. Press a button to activate, and the robot locks in place.</p>
<p><strong>Note:</strong> Only use when stationary. Calling this while moving will lock at wherever you are at that moment.</p>
</div>
</div>

<div class="method">
<div class="method-sig">novad.unlock()</div>
<div class="method-desc">
<p><strong>Exits lockdown mode, returns to normal defense.</strong></p>
<p>Call this to release the lock and resume driving with defense active.</p>
</div>
</div>

<h3>Helper Methods</h3>

<div class="method">
<div class="method-sig">boolean novad.isLocked()</div>
<div class="method-desc">
Returns <code>true</code> if currently in lockdown mode. Useful for telemetry or conditional logic.
</div>
</div>

<div class="method">
<div class="method-sig">Pose2d novad.getPose()</div>
<div class="method-desc">
Returns current robot position as <code>Pose2d(x, y, heading)</code>. X/Y in inches, heading in radians.
</div>
</div>

<div class="method">
<div class="method-sig">void novad.resetHeading()</div>
<div class="method-desc">
Resets the heading to zero. Useful at the start of TeleOp if using field-centric driving.
</div>
</div>

<h3>Static Factory</h3>

<div class="method">
<div class="method-sig">Novad Novad.create(HardwareMap hardwareMap)</div>
<div class="method-desc">
Creates a Novad instance using settings from <code>NovadSetup.java</code>. Call once in your init.
</div>
</div>
</section>

<div class="divider">• • •</div>

<section id="tuning">
<h2>Tuning Guide</h2>

<h3>How Novad Works (Understanding the System)</h3>
<p>Novad uses <strong>PID controllers</strong> to resist pushes. Here's the flow:</p>
<ol>
<li><strong>Read odometry</strong> - Where did the robot actually move this loop?</li>
<li><strong>Calculate expected</strong> - Where should it have moved based on joystick input?</li>
<li><strong>Find discrepancy</strong> - The difference is the external force (being pushed)</li>
<li><strong>Apply correction</strong> - PID calculates how hard to push back</li>
</ol>

<p>There are <strong>3 PID controllers</strong>:</p>
<ul>
<li><strong>X Controller</strong> - Resists being pushed left/right</li>
<li><strong>Y Controller</strong> - Resists being pushed forward/backward</li>
<li><strong>Heading Controller</strong> - Resists being spun/rotated</li>
</ul>

<h3>PID Values Explained</h3>

<div class="box">
<h4>Translational PID (TRANS_P, TRANS_I, TRANS_D)</h4>
<p>Controls X and Y position resistance.</p>
<table>
<tr><th>Value</th><th>Default</th><th>What it does</th></tr>
<tr><td><code>TRANS_P</code></td><td>0.1</td><td><strong>Proportional</strong> - Main correction strength. Higher = stronger resistance but may oscillate.</td></tr>
<tr><td><code>TRANS_I</code></td><td>0.0</td><td><strong>Integral</strong> - Fixes slow drift over time. Usually leave at 0.</td></tr>
<tr><td><code>TRANS_D</code></td><td>0.01</td><td><strong>Derivative</strong> - Dampens oscillation. Increase if robot shakes.</td></tr>
</table>
</div>

<div class="box">
<h4>Heading PID (HEADING_P, HEADING_I, HEADING_D)</h4>
<p>Controls rotation resistance. Prevents opponents from spinning you.</p>
<table>
<tr><th>Value</th><th>Default</th><th>What it does</th></tr>
<tr><td><code>HEADING_P</code></td><td>1.0</td><td><strong>Proportional</strong> - How strongly it resists rotation. Higher = more rigid.</td></tr>
<tr><td><code>HEADING_I</code></td><td>0.0</td><td><strong>Integral</strong> - Usually leave at 0.</td></tr>
<tr><td><code>HEADING_D</code></td><td>0.01</td><td><strong>Derivative</strong> - Dampens rotational oscillation.</td></tr>
</table>
</div>

<h3>Live Tuning with FTC Dashboard</h3>
<p>All values in <code>NovadSetup.java</code> can be tuned in real-time:</p>
<ol>
<li>Connect your laptop to the robot's WiFi</li>
<li>Open <a href="http://192.168.43.1:8080/dash">http://192.168.43.1:8080/dash</a></li>
<li>Find "NovadSetup" in the sidebar</li>
<li>Adjust values - changes apply instantly!</li>
<li>Once happy, copy final values back to NovadSetup.java</li>
</ol>

<h3>Tuning Procedure</h3>
<div class="box warn">
<h4>Step-by-Step Tuning</h4>
<ol>
<li><strong>Start with defaults</strong> - They work for most robots</li>
<li><strong>Test defense mode</strong> - Drive around, have someone push you</li>
<li><strong>If robot oscillates (shakes)</strong> - Decrease P, increase D</li>
<li><strong>If robot doesn't resist enough</strong> - Increase P</li>
<li><strong>If robot slowly drifts</strong> - Add small I value (0.001)</li>
<li><strong>Test lockdown</strong> - Should be rock solid. If it shakes, increase D</li>
</ol>
</div>

<h3>Other Settings</h3>
<table>
<tr><th>Setting</th><th>Default</th><th>Description</th></tr>
<tr><td><code>MAX_POWER</code></td><td>0.8</td><td>Maximum correction power. Lower = gentler resistance.</td></tr>
<tr><td><code>USE_FIELD_CENTRIC</code></td><td>false</td><td>Enable field-centric driving. Requires good heading from odometry.</td></tr>
<tr><td><code>USE_BRAKE_MODE</code></td><td>true</td><td>Motors brake when stopped. Helps hold position.</td></tr>
</table>
</section>

<div class="divider">• • •</div>

<section>
<h2>Odometry Setup</h2>

<h3>GoBilda Pinpoint (Recommended)</h3>
<p>Easiest option. Just set the device name:</p>
<pre><code><span class="kw">public static boolean</span> USE_PINPOINT = <span class="kw">true</span>;
<span class="kw">public static</span> String PINPOINT_NAME = <span class="str">"pinpoint"</span>;</code></pre>

<h3>Three Dead Wheels</h3>
<p>More setup required:</p>
<pre><code><span class="kw">public static boolean</span> USE_THREE_WHEEL = <span class="kw">true</span>;

<span class="cmt">// Encoder ports (which motor port each encoder plugs into)</span>
<span class="kw">public static</span> String LEFT_ENCODER   = <span class="str">"frontLeft"</span>;
<span class="kw">public static</span> String RIGHT_ENCODER  = <span class="str">"frontRight"</span>;
<span class="kw">public static</span> String CENTER_ENCODER = <span class="str">"backLeft"</span>;

<span class="cmt">// Critical: ticks to inches conversion</span>
<span class="kw">public static double</span> TICKS_TO_INCHES = <span class="num">0.000724</span>;

<span class="cmt">// Physical measurements (inches)</span>
<span class="kw">public static double</span> TRACK_WIDTH = <span class="num">14.0</span>;    <span class="cmt">// Left to right encoder distance</span>
<span class="kw">public static double</span> CENTER_OFFSET = <span class="num">6.0</span>;  <span class="cmt">// Center encoder to robot center</span></code></pre>

<div class="box">
<h4>Common TICKS_TO_INCHES Values</h4>
<table>
<tr><th>Encoder</th><th>Wheel</th><th>Value</th></tr>
<tr><td>REV Through Bore (8192 CPR)</td><td>goBilda 48mm</td><td>0.000724</td></tr>
<tr><td>REV Through Bore (8192 CPR)</td><td>goBilda 60mm</td><td>0.000906</td></tr>
</table>
<p><strong>Formula:</strong> (π × wheel_diameter_inches) / encoder_CPR</p>
</div>
</section>

<footer>
<p><strong>NOVAD</strong> v2.0.0</p>
<p>Built for FTC teams who refuse to be pushed around.</p>
<p><a href="https://github.com/ekansh-arora0/novad">GitHub</a></p>
</footer>

</body>
</html>
